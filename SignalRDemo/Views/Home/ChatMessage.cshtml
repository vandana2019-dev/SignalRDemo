<!DOCTYPE html>
<html>
<head>
    <title>SignalR BroadCast</title>
</head>
<body>
    <div class="container">
        <h1 id="message"></h1>
    </div>
    <script src="~/Scripts/jquery-3.4.1.min.js"></script>
    <script src="~/Scripts/jquery.signalR-2.4.3.min.js"></script>

    <!--Reference the autogenerated SignalR hub script. -->
    <script src="~/signalr/hubs"></script>
    <!--Add script to update the page and send messages.-->
    <script type="text/javascript">


        $(function () {
            // Declare a proxy to reference the hub.
            var chat = $.connection.chatHub;
            //BroadcastMessage, the same method that we have set in
            //Cleints.All.broadcastMessage()
            chat.client.broadcastMessage = function (value) {
                $('#message').text(value.toString());
            };

            $.connection.hub.start().done(function () {
                //send, the same method that we have in our chathub class
                chat.server.sendcount();
            });
        });

    </script>

</body>

</html> 